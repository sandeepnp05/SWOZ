<%- include("../layouts/header.ejs") %> <%- include("../layouts/userNav.ejs") %>

<!-- Start Banner Area -->
<section class="banner-area organic-breadcrumb">
  <div class="container">
    <div
      class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end"
    >
      <div class="col-first">
        <h1>Login/Register</h1>
        <nav class="d-flex align-items-center">
          <a href="index">Home<span class="lnr lnr-arrow-right"></span></a>
          <a href="category">Login/Register</a>
        </nav>
      </div>
    </div>
  </div>
</section>
<!-- End Banner Area -->

<!--================Login Box Area =================-->
<section class="login_box_area section_gap">
  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <div class="login_box_img">
          <img class="img-fluid" src="img/login.jpg" alt="" />
          <div class="hover">
            <h4>Already have an Account?</h4>
            <p>
              There are advances being made in science and technology everyday,
              and a good example of this is the
            </p>
            <a class="primary-btn" href="Login">Login</a>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="login_form_inner">
          <h3>Register to Sign Up</h3>

          <form
            class="row login_form"
            id="registrationForm"
            action="/register"
            method="post"
            onsubmit="return validateForm();"
          >
            <div class="col-md-12 form-group">
              <input
                type="text"
                class="form-control"
                id="firstname"
                name="firstname"
                placeholder="First name"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Firstname'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <input
                type="text"
                class="form-control"
                id="lastname"
                name="lastname"
                placeholder="Last name"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Lastname'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Email"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Email'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <input
                type="number"
                class="form-control"
                id="mobile"
                name="mobile"
                placeholder="Mobile"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Mobile'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Enter Password"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Enter Passoword'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <input
                type="password"
                class="form-control"
                id="confirmPassword"
                name="confirmPassword"
                placeholder="Confirm Password"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Confirm Password'"
                required
              />
            </div>
            <div class="col-md-12 form-group">
              <button type="submit" value="submit" class="primary-btn">
                Register
              </button>
            </div>
          </form>
          <p style="color: red"><%=message%></p>
        </div>
      </div>
    </div>
  </div>
</section>
<!--================End Login Box Area =================-->
<!-- Include the Toastify CSS and JS files -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

<%- include("../layouts/footer.ejs") %> <%- include("../layouts/userFooter.ejs")
%>
<script>
function validateForm() {
  var firstname = document.getElementById("firstname").value;
  var lastname = document.getElementById("lastname").value;
  var email = document.getElementById("email").value;
  var mobile = document.getElementById("mobile").value;
  var password = document.getElementById("password").value;
  var confirmPassword = document.getElementById("confirmPassword").value;

  // Regular expressions for email validation and password validation
  var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
  var passwordRegex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;

  // Initialize an error message variable
  var errorMessage = "";

  // Validate First Name
  if (firstname.trim() === "") {
    errorMessage += "First Name is required.\n";
  }

  // Validate Last Name
  if (lastname.trim() === "") {
    errorMessage += "Last Name is required.\n";
  }

  // Validate Email
  if (!email.match(emailRegex)) {
    errorMessage += "Invalid Email Address.\n";
  }

  // Validate Mobile
  var mobileRegex = /^[0-9]{10}$/; // 10-digit mobile number
  if (!mobile.match(mobileRegex)) {
    errorMessage += "Mobile number should be 10 digits long and contain only numbers.\n";
  }

  // Validate Password
  if (!password.match(passwordRegex)) {
    errorMessage += "Password should be at least 8 characters long and include at least one number, one capital letter, and one lowercase letter.\n";
  }

  // Validate Confirm Password
  if (password !== confirmPassword) {
    errorMessage += "Passwords do not match.\n";
  }

  // Display error message using Toastify
  if (errorMessage !== "") {
    Toastify({
      text: errorMessage,
      duration: 5000, // Duration in milliseconds
      gravity: "top", // Position: top, bottom, left, right
      backgroundColor: "red",
    }).showToast();
    return false; // Prevent form submission
  }

  return true; // Form submission will proceed if there are no errors
}



  </script>
  
