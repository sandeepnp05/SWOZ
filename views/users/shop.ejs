<%- include("../layouts/header.ejs") %>
<%- include("../layouts/userNav.ejs") %>
	<!-- Start Banner Area -->
	<section class="banner-area organic-breadcrumb">
		<div class="container">
			<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1>Shop</h1>
					<nav class="d-flex align-items-center">
						<a href="/index">Home<span class="lnr lnr-arrow-right"></span></a>
						<a href="#">Shop<span class="lnr lnr-arrow-right"></span></a>
						<a href="/shop">Fashon </a>
					</nav>
				</div>
			</div>
		</div>
	</section>
	<!-- End Banner Area -->
	<div class="container">
		<div class="row">
			<div class="col-xl-3 col-lg-4 col-md-5">
				<div class="sidebar-categories">
					<div class="head">Browse Categories</div>
					<ul class="main-categories">
						<li class="main-nav-list"><a data-toggle="collapse" href="#fruitsVegetable" aria-expanded="false" aria-controls="fruitsVegetable"><span
								 class="lnr lnr-arrow-right"></span>Fruits and Vegetables<span class="number">(53)</span></a>
							<ul class="collapse" id="fruitsVegetable" data-toggle="collapse" aria-expanded="false" aria-controls="fruitsVegetable">
								<li class="main-nav-list child"><a href="#">Frozen Fish<span class="number">(13)</span></a></li>
								<li class="main-nav-list child"><a href="#">Dried Fish<span class="number">(09)</span></a></li>
								<li class="main-nav-list child"><a href="#">Fresh Fish<span class="number">(17)</span></a></li>
								<li class="main-nav-list child"><a href="#">Meat Alternatives<span class="number">(01)</span></a></li>
								<li class="main-nav-list child"><a href="#">Meat<span class="number">(11)</span></a></li>
							</ul>
						</li>

						
					</ul>
				</div>
				<div class="sidebar-filter mt-50">
					<div class="top-filter-head">Product Filters</div>
					<div class="common-filter">
						<div class="head">Brands</div>
						<form action="#">
							<ul>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="apple" name="brand"><label for="apple">Apple<span>(29)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="asus" name="brand"><label for="asus">Asus<span>(29)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="gionee" name="brand"><label for="gionee">Gionee<span>(19)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="micromax" name="brand"><label for="micromax">Micromax<span>(19)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="samsung" name="brand"><label for="samsung">Samsung<span>(19)</span></label></li>
							</ul>
						</form>
					</div>
					<div class="common-filter">
						<div class="head">Color</div>
						<form action="#">
							<ul>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="black" name="color"><label for="black">Black<span>(29)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="balckleather" name="color"><label for="balckleather">Black
										Leather<span>(29)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="blackred" name="color"><label for="blackred">Black
										with red<span>(19)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="gold" name="color"><label for="gold">Gold<span>(19)</span></label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="spacegrey" name="color"><label for="spacegrey">Spacegrey<span>(19)</span></label></li>
							</ul>
						</form>
					</div>
					<div class="common-filter">
						<div class="head">Price</div>
						<div class="price-range-area">
							<div id="price-range"></div>
							<div class="value-wrapper d-flex">
								<div class="price">Price:</div>
								<span>$</span>
								<div id="lower-value"></div>
								<div class="to">to</div>
								<span>$</span>
								<div id="upper-value"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xl-9 col-lg-8 col-md-7">
				<!-- Start Filter Bar -->
				<div class="filter-bar d-flex flex-wrap align-items-center">
					<div class="sorting">
						<select>
							<option value="1">Default sorting</option>
							<option value="1">Default sorting</option>
							<option value="1">Default sorting</option>
						</select>
					</div>
					<div class="sorting mr-auto">
						<select>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
						</select>
					</div>
					<div class="pagination">
						<a href="#" class="prev-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>
						<a href="#" class="active">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
						<a href="#" class="dot-dot"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
						<a href="#">6</a>
						<a href="#" class="next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
					</div>
				</div>
				<!-- End Filter Bar -->
				<!-- Start Best Seller -->
				<style>
					/* Add border to single product */
					.single-product {
			  border: 1px solid #eaeaea; /* Border color */
			  border-radius: 8px; /* Rounded corners */
			  padding: 20px;
			  margin-bottom: 20px;
			  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Drop shadow effect */
			  transition: transform 0.3s, box-shadow 0.3s; /* Transition effects for hover */
			}
			
			/* Apply hover effect */
			.single-product:hover {
			  transform: translateY(-5px);
			  box-shadow: 0px 8px 10px rgba(0, 0, 0, 0.2);
			}
				  </style>
				  
			
			<%- include("../layouts/header.ejs") %>
			<%- include("../layouts/userNav.ejs") %>
			
				<!-- start banner Area -->
				<section class="banner-area">
					<div class="container">
						<div class="row fullscreen align-items-center justify-content-start">
							<div class="col-lg-12">
								<div class="active-banner-slider owl-carousel">
									<!-- single-slide -->
									<div class="row single-slide align-items-center d-flex">
										<div class="col-lg-5 col-md-6">
											<div class="banner-content">
												<h1>Nike New <br>Collection!</h1>
												<p> Hurry and grab your favorite pieces before they're gone! This exclusive offer won't 
													  last forever, so make sure you're ahead of the game and shop now! </p>
												<div class="add-bag d-flex align-items-center">
													<a class="add-btn" href=""><span class="lnr lnr-cross"></span></a>
													<span class="add-text text-uppercase">Add to Bag</span>
												</div>
											</div>
										</div>
										<div class="col-lg-7">
											<div class="banner-img">
												<img class="img-fluid" src="img/banner/banner-img.png" alt="">
											</div>
										</div>
									</div>
									<!-- single-slide -->
									
								</div>
							</div>
						</div>
					</div>
				</section>
				<!-- End banner Area -->
			
				<!-- start features Area -->
				<section class="features-area section_gap">
					<div class="container">
						<div class="row features-inner">
							<!-- single features -->
							<div class="col-lg-3 col-md-6 col-sm-6">
								<div class="single-features">
									<div class="f-icon">
										<img src="img/features/f-icon1.png" alt="">
									</div>
									<h6>Free Delivery</h6>
									<p>Free Shipping on all order</p>
								</div>
							</div>
							<!-- single features -->
							<div class="col-lg-3 col-md-6 col-sm-6">
								<div class="single-features">
									<div class="f-icon">
										<img src="img/features/f-icon2.png" alt="">
									</div>
									<h6>Return Policy</h6>
									<p>Free Shipping on all order</p>
								</div>
							</div>
							<!-- single features -->
							<div class="col-lg-3 col-md-6 col-sm-6">
								<div class="single-features">
									<div class="f-icon">
										<img src="img/features/f-icon3.png" alt="">
									</div>
									<h6>24/7 Support</h6>
									<p>Free Shipping on all order</p>
								</div>
							</div>
							<!-- single features -->
							<div class="col-lg-3 col-md-6 col-sm-6">
								<div class="single-features">
									<div class="f-icon">
										<img src="img/features/f-icon4.png" alt="">
									</div>
									<h6>Secure Payment</h6>
									<p>Free Shipping on all order</p>
								</div>
							</div>
						</div>
					</div>
				</section>
				<!-- end features Area -->
			
				<!-- Start category Area -->
				<!-- <section class="category-area">
					<div class="container">
						<div class="row justify-content-center">
							<div class="col-lg-8 col-md-12">
								<div class="row">
									<div class="col-lg-8 col-md-8">
										<div class="single-deal">
											<div class="overlay"></div>
											<img class="img-fluid w-100" src="img/category/c1.jpg" alt="">
											<a href="img/category/c1.jpg" class="img-pop-up" target="_blank">
												<div class="deal-details">
													<h6 class="deal-title">Sneaker for Sports</h6>
												</div>
											</a>
										</div>
									</div>
									<div class="col-lg-4 col-md-4">
										<div class="single-deal">
											<div class="overlay"></div>
											<img class="img-fluid w-100" src="img/category/c2.jpg" alt="">
											<a href="img/category/c2.jpg" class="img-pop-up" target="_blank">
												<div class="deal-details">
													<h6 class="deal-title">Sneaker for Sports</h6>
												</div>
											</a>
										</div>
									</div>
									<div class="col-lg-4 col-md-4">
										<div class="single-deal">
											<div class="overlay"></div>
											<img class="img-fluid w-100" src="img/category/c3.jpg" alt="">
											<a href="img/category/c3.jpg" class="img-pop-up" target="_blank">
												<div class="deal-details">
													<h6 class="deal-title">Product for Couple</h6>
												</div>
											</a>
										</div>
									</div>
									<div class="col-lg-8 col-md-8">
										<div class="single-deal">
											<div class="overlay"></div>
											<img class="img-fluid w-100" src="img/category/c4.jpg" alt="">
											<a href="img/category/c4.jpg" class="img-pop-up" target="_blank">
												<div class="deal-details">
													<h6 class="deal-title">Sneaker for Sports</h6>
												</div>
											</a>
										</div>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6">
								<div class="single-deal">
									<div class="overlay"></div>
									<img class="img-fluid w-100" src="img/category/c5.jpg" alt="">
									<a href="img/category/c5.jpg" class="img-pop-up" target="_blank">
										<div class="deal-details">
											<h6 class="deal-title">Sneaker for Sports</h6>
										</div>
									</a>
								</div>
							</div>
						</div>
					</div>
				</section> -->
				<!-- End category Area -->
			
				<!-- start product Area -->
				<section class="owl-carousel active-product-area section_gap"> 
					<!-- single product slide -->
					 <div class="single-product-slider">
						<div class="container">
							<div class="row justify-content-center">
								<div class="col-lg-6 text-center">
									<div class="section-title">
										<h1>Latest Products</h1>
										<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
											dolore
											magna aliqua.</p>
									</div>
								</div>
							</div> 
							<div class="row">
								<!-- single product -->
								<% for (let product of products) { %> <% if (product.category.status === true) { %>
									
								<div class="col-lg-3 col-md-6">
									<div class="single-product">
										<a href="/singleProduct?id=<%= product._id%>"><img class="img-fluid" src="/uncroppedImages/<%= product.image[0] %>
											"alt="<%= product.image[0] %>"></a>
									
										<div class="product-details">
											<h6><%= product.name %></h6>
											<div class="price">
												<h6>â‚¹<%= product.price %></h6>
												<!-- <h6 class="l-through">$210.00</h6> -->
											</div>
											<!-- <div class="details">
												<p style="color: black;"><%= product.description%></p>
												
											</div> -->
											<div class="prd-bottom">
			
												<a href="#" onclick="addToCart('<%= product._id %>', 1 ,'<%=product.price %>','<%=product.quantity %>')" class="social-info">
													<span class="ti-bag"></span>
													<p class="hover-text">Cart</p>
												</a>
												
												<a href="" class="social-info">
													<span class="lnr lnr-heart"></span>
													<p class="hover-text">Wishlist</p>
												</a>
												
											</div>
										</div>
									</div>
								</div>
								<% } %> <% } %>
							
								
							</div>
						</div>
					</div>
				</section>
				<!-- end product Area -->
			
				<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
				<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
				<script>
					
			  const user = "<%=user_id%>";
			  
			  const addToCart = async (productId, quantity, singlePrice,totalStock) => {
				  try {
					//   event.stopPropagation();
					  event.preventDefault();
					//   const totalStock = document.getElementById(`product-${productId}`).value
					  if (user) {
						const productData = await axios.post("/addToCart", {
						  productId,
						  quantity,
						  singlePrice,
						  totalStock
						});
						// if(productData.data.count){
						//       document.getElementById("cartCount").innerHTML=`<span class="icon-shopping_cart" ></span>${productData.data.count}`
						//       swal("Added to cart", "", "success");
						// }   
						if(productData.data.message){
							swal("Added to cart", "", "success");
						  }
						  
						  if(productData.data.cartMessage){
							swal("Cart quantity reaches the limit");
						  }
						return productData;
					  } else {
						swal({
						  title: "Please Login And Explore Our Products",
						}).then(()=>{
						  window.location.href = "/login";
						});
						
					  }
					} catch (error) {
					  console.log(error.message);
					}}
				</script>
				<%- include("../layouts/footer.ejs") %>
				<%- include("../layouts/userFooter.ejs") %>
			
			
			
	<%- include("../layouts/footer.ejs") %>
	<%- include("../layouts/userFooter.ejs") %>
